!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function d(){return c(" ")}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function h(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}let g;function $(t){g=t}const _=[],m=Promise.resolve();let v=!1;const b=[],y=[],x=[];function D(t){y.push(t)}function R(){const t=new Set;do{for(;_.length;){const t=_.shift();$(t),w(t.$$)}for(;b.length;)b.shift()();for(;y.length;){const e=y.pop();t.has(e)||(e(),t.add(e))}}while(_.length);for(;x.length;)x.pop()();v=!1}function w(t){t.fragment&&(t.update(t.dirty),r(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(D))}const k=new Set;function C(t,e){t.$$.dirty||(_.push(t),v||(v=!0,m.then(R)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function E(a,i,u,s,l,c){const d=g;$(a);const f=i.props||{},p=a.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let h=!1;var _,m;p.ctx=u?u(a,f,(t,e)=>{p.ctx&&l(p.ctx[t],p.ctx[t]=e)&&(p.bound[t]&&p.bound[t](e),h&&C(a,t))}):f,p.update(),h=!0,r(p.before_render),p.fragment=s(p.ctx),i.target&&(i.hydrate?p.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):p.fragment.c(),i.intro&&((_=a.$$.fragment)&&_.i&&(k.delete(_),_.i(m))),function(t,n,a){const{fragment:i,on_mount:u,on_destroy:s,after_render:l}=t.$$;i.m(n,a),D(()=>{const n=u.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(D)}(a,i.target,i.anchor),R()),$(d)}class S{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function j(e){var n,o,a,g,$,_,m,v,b,y,x,R,w,k,C,E,S,j,A,F,N,q,B;return{c(){n=l("div"),(o=l("label")).textContent="Trip type",a=d(),g=l("select"),($=l("option")).textContent="one-way flight",(_=l("option")).textContent="return flight",m=d(),v=l("div"),(b=l("label")).textContent="Departing",y=d(),x=l("input"),R=d(),w=l("div"),(k=l("label")).textContent="Returning",C=d(),E=l("input"),j=d(),A=l("div"),F=l("button"),N=c("book"),p(o,"class","form-label"),p(o,"for","trip-type"),$.__value=!1,$.value=$.__value,_.__value=!0,_.value=_.__value,void 0===e.isReturn&&D(()=>e.select_change_handler.call(g)),p(g,"id","trip-type"),p(g,"class","form-select"),p(n,"class","form-group"),p(b,"class","form-label"),p(b,"for","departing-date"),p(x,"id","departing-date"),p(x,"class","form-input"),p(x,"type","date"),p(v,"class","form-group"),p(k,"class","form-label"),p(k,"for","returning-date"),p(E,"id","returning-date"),p(E,"class","form-input"),p(E,"type","date"),E.disabled=S=!e.isReturn,p(w,"class","form-group"),p(F,"class","btn btn-primary"),F.disabled=q=e.isReturn&&e.startDate>=e.endDate,p(A,"class","form-group"),B=[f(g,"change",e.select_change_handler),f(x,"input",e.input0_input_handler),f(E,"input",e.input1_input_handler),f(F,"click",e.bookFlight)]},m(t,r){u(t,n,r),i(n,o),i(n,a),i(n,g),i(g,$),i(g,_),h(g,e.isReturn),u(t,m,r),u(t,v,r),i(v,b),i(v,y),i(v,x),x.value=e.start,u(t,R,r),u(t,w,r),i(w,k),i(w,C),i(w,E),E.value=e.end,u(t,j,r),u(t,A,r),i(A,F),i(F,N)},p(t,e){t.isReturn&&h(g,e.isReturn),t.start&&(x.value=e.start),t.end&&(E.value=e.end),t.isReturn&&S!==(S=!e.isReturn)&&(E.disabled=S),(t.isReturn||t.startDate||t.endDate)&&q!==(q=e.isReturn&&e.startDate>=e.endDate)&&(F.disabled=q)},i:t,o:t,d(t){t&&(s(n),s(m),s(v),s(R),s(w),s(j),s(A)),r(B)}}}function A(t){const e=t.split("-");return new Date(+e[0],+e[1]-1,+e[2])}function F(t,e){for(t=String(t);t.length<e;)t=`0${t}`;return t}function N(t,e,n){const r=new Date(Date.now()+864e5);let o,a,i=[r.getFullYear(),F(r.getMonth()+1,2),F(r.getDate(),2)].join("-"),u=i,s=!1;return t.$$.update=(t={start:1,end:1})=>{t.start&&n("startDate",o=A(i)),t.end&&n("endDate",a=A(u))},{start:i,end:u,isReturn:s,bookFlight:function(){const t=s?"return":"one-way";let e=`You have booked a ${t} flight, leaving ${o.toDateString()}`;"return"===t&&(e+=` and returning ${a.toDateString()}`),alert(e)},startDate:o,endDate:a,select_change_handler:function(){s=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n("isReturn",s)},input0_input_handler:function(){i=this.value,n("start",i)},input1_input_handler:function(){u=this.value,n("end",u)}}}new class extends S{constructor(t){super(),E(this,t,N,j,a,[])}}({target:document.getElementById("app")})}();