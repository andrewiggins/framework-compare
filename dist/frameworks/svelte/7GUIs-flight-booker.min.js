!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function d(){return s(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function f(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function h(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}let g;function $(t){g=t}const _=[],y=Promise.resolve();let m=!1;const v=[],b=[],D=[];function x(t){b.push(t)}function T(){const t=new Set;do{for(;_.length;){const t=_.shift();$(t),w(t.$$)}for(;v.length;)v.shift()();for(;b.length;){const e=b.pop();t.has(e)||(e(),t.add(e))}}while(_.length);for(;D.length;)D.pop()();m=!1}function w(t){t.fragment&&(t.update(t.dirty),r(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(x))}const k=new Set;function E(t,e){t.$$.dirty||(_.push(t),m||(m=!0,y.then(T)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function S(a,i,u,l,c,s){const d=g;$(a);const p=i.props||{},f=a.$$={fragment:null,ctx:null,props:s,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let h=!1;var _,y;f.ctx=u?u(a,p,(t,e)=>{f.ctx&&c(f.ctx[t],f.ctx[t]=e)&&(f.bound[t]&&f.bound[t](e),h&&E(a,t))}):p,f.update(),h=!0,r(f.before_render),f.fragment=l(f.ctx),i.target&&(i.hydrate?f.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):f.fragment.c(),i.intro&&((_=a.$$.fragment)&&_.i&&(k.delete(_),_.i(y))),function(t,n,a){const{fragment:i,on_mount:u,on_destroy:l,after_render:c}=t.$$;i.m(n,a),x(()=>{const n=u.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(x)}(a,i.target,i.anchor),T()),$(d)}class C{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function F(e){var n,o,a,g,$,_,y,m,v,b,D,T,w,k,E,S,C,F,N,q,B,L;return{c(){n=c("div"),(o=c("label")).textContent="Trip type",a=c("select"),g=c("option"),$=s("one-way flight"),_=c("option"),y=s("return flight"),m=d(),v=c("div"),(b=c("label")).textContent="Departing",D=c("input"),T=d(),w=c("div"),(k=c("label")).textContent="Returning",E=c("input"),C=d(),F=c("div"),N=c("button"),q=s("book"),f(o,"class","form-label"),f(o,"for","trip-type"),g.__value=j,g.value=g.__value,_.__value=A,_.value=_.__value,void 0===e.tripType&&x(()=>e.select_change_handler.call(a)),f(a,"id","trip-type"),f(a,"class","form-select"),f(n,"class","form-group"),f(b,"class","form-label"),f(b,"for","departing-date"),f(D,"id","departing-date"),f(D,"class","form-input"),f(D,"type","date"),f(v,"class","form-group"),f(k,"class","form-label"),f(k,"for","returning-date"),f(E,"id","returning-date"),f(E,"class","form-input"),f(E,"type","date"),E.disabled=S=e.tripType==j,f(w,"class","form-group"),f(N,"class","btn btn-primary"),N.disabled=B=e.tripType==A&&e.endDate<e.startDate,f(F,"class","form-group"),L=[p(a,"change",e.select_change_handler),p(D,"input",e.input0_input_handler),p(E,"input",e.input1_input_handler),p(N,"click",e.bookFlight)]},m(t,r){u(t,n,r),i(n,o),i(n,a),i(a,g),i(g,$),i(a,_),i(_,y),h(a,e.tripType),u(t,m,r),u(t,v,r),i(v,b),i(v,D),D.value=e.start,u(t,T,r),u(t,w,r),i(w,k),i(w,E),E.value=e.end,u(t,C,r),u(t,F,r),i(F,N),i(N,q)},p(t,e){g.value=g.__value,_.value=_.__value,t.tripType&&h(a,e.tripType),t.start&&(D.value=e.start),t.end&&(E.value=e.end),t.tripType&&S!==(S=e.tripType==j)&&(E.disabled=S),(t.tripType||t.endDate||t.startDate)&&B!==(B=e.tripType==A&&e.endDate<e.startDate)&&(N.disabled=B)},i:t,o:t,d(t){t&&(l(n),l(m),l(v),l(T),l(w),l(C),l(F)),r(L)}}}const j="one-way",A="return";function N(t){const e=t.split("-");return new Date(+e[0],+e[1]-1,+e[2])}function q(t,e){for(t=String(t);t.length<e;)t=`0${t}`;return t}function B(t,e,n){const r=new Date(Date.now()+864e5);let o,a,i=[r.getFullYear(),q(r.getMonth()+1,2),q(r.getDate(),2)].join("-"),u=i,l=j;return t.$$.update=(t={start:1,end:1})=>{t.start&&n("startDate",o=N(i)),t.end&&n("endDate",a=N(u))},{start:i,end:u,tripType:l,bookFlight:function(){const t=l==A?"return":"one-way";let e=`You have booked a ${t} flight, leaving ${o.toDateString()}`;"return"===t&&(e+=` and returning ${a.toDateString()}`),alert(e)},startDate:o,endDate:a,select_change_handler:function(){l=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n("tripType",l),n("returnFlight",A),n("oneWayFlight",j)},input0_input_handler:function(){i=this.value,n("start",i)},input1_input_handler:function(){u=this.value,n("end",u)}}}new class extends C{constructor(t){super(),S(this,t,B,F,a,[])}}({target:document.getElementById("app")})}();